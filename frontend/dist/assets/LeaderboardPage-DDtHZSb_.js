import{c as ue,r as s,j as e,P as E,e as O,f as Le,g as ut,a as te,C as De,L as pt,h as mt,B as _e,i as ft,k as ht,T as Ae,l as Se,E as gt,H as xt,m as vt,n as bt,o as wt,p as St,q as yt,s as Ct}from"./index-DCnnGT-1.js";import{c as Oe,u as Ee,R as Nt,a as jt,b as Ie,A as Tt,d as I,e as K,P as It,f as Pt,h as _t,g as Et,i as Rt,F as Mt,D as kt,C as Lt,j as Dt}from"./Combination-DgTvDwFO.js";import{u as At,c as Ot}from"./index-DgGAfxVT.js";import{u as Bt,A as Ht}from"./index-Ev0jSAlQ.js";import{T as Vt,a as Ft,b as Re,c as se,d as zt,e as ae}from"./table-gP_LGBzP.js";import{G as Ut}from"./gamepad-2-CM6HFHOz.js";import"./tslib.es6-DYuMUikC.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wt=ue("check",Gt);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qt=ue("chevron-up",Kt);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xt=ue("globe",$t);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Zt=ue("medal",Yt);function Me(t,[n,o]){return Math.min(o,Math.max(n,t))}var Be=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jt="VisuallyHidden",Qt=s.forwardRef((t,n)=>e.jsx(E.span,{...t,ref:n,style:{...Be,...t.style}}));Qt.displayName=Jt;var eo=[" ","Enter","ArrowUp","ArrowDown"],to=[" ","Enter"],J="Select",[pe,me,oo]=Ot(J),[oe,er]=jt(J,[oo,Oe]),fe=Oe(),[ro,q]=oe(J),[no,so]=oe(J),He=t=>{const{__scopeSelect:n,children:o,open:l,defaultOpen:c,onOpenChange:p,value:a,defaultValue:r,onValueChange:i,dir:d,name:x,autoComplete:b,disabled:j,required:T,form:C}=t,u=fe(n),[g,v]=s.useState(null),[m,h]=s.useState(null),[M,k]=s.useState(!1),re=At(d),[P,D]=Ee({prop:l,defaultProp:c??!1,onChange:p,caller:J}),[U,X]=Ee({prop:a,defaultProp:r,onChange:i,caller:J}),B=s.useRef(null),H=g?C||!!g.closest("form"):!0,[G,V]=s.useState(new Set),F=Array.from(G).map(_=>_.props.value).join(";");return e.jsx(Nt,{...u,children:e.jsxs(ro,{required:T,scope:n,trigger:g,onTriggerChange:v,valueNode:m,onValueNodeChange:h,valueNodeHasChildren:M,onValueNodeHasChildrenChange:k,contentId:Ie(),value:U,onValueChange:X,open:P,onOpenChange:D,dir:re,triggerPointerDownPosRef:B,disabled:j,children:[e.jsx(pe.Provider,{scope:n,children:e.jsx(no,{scope:t.__scopeSelect,onNativeOptionAdd:s.useCallback(_=>{V(A=>new Set(A).add(_))},[]),onNativeOptionRemove:s.useCallback(_=>{V(A=>{const z=new Set(A);return z.delete(_),z})},[]),children:o})}),H?e.jsxs(lt,{"aria-hidden":!0,required:T,tabIndex:-1,name:x,autoComplete:b,value:U,onChange:_=>X(_.target.value),disabled:j,form:C,children:[U===void 0?e.jsx("option",{value:""}):null,Array.from(G)]},F):null]})})};He.displayName=J;var Ve="SelectTrigger",Fe=s.forwardRef((t,n)=>{const{__scopeSelect:o,disabled:l=!1,...c}=t,p=fe(o),a=q(Ve,o),r=a.disabled||l,i=O(n,a.onTriggerChange),d=me(o),x=s.useRef("touch"),[b,j,T]=ct(u=>{const g=d().filter(h=>!h.disabled),v=g.find(h=>h.value===a.value),m=dt(g,u,v);m!==void 0&&a.onValueChange(m.value)}),C=u=>{r||(a.onOpenChange(!0),T()),u&&(a.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Tt,{asChild:!0,...p,children:e.jsx(E.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:r,"data-disabled":r?"":void 0,"data-placeholder":it(a.value)?"":void 0,...c,ref:i,onClick:I(c.onClick,u=>{u.currentTarget.focus(),x.current!=="mouse"&&C(u)}),onPointerDown:I(c.onPointerDown,u=>{x.current=u.pointerType;const g=u.target;g.hasPointerCapture(u.pointerId)&&g.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(C(u),u.preventDefault())}),onKeyDown:I(c.onKeyDown,u=>{const g=b.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&j(u.key),!(g&&u.key===" ")&&eo.includes(u.key)&&(C(),u.preventDefault())})})})});Fe.displayName=Ve;var ze="SelectValue",Ue=s.forwardRef((t,n)=>{const{__scopeSelect:o,className:l,style:c,children:p,placeholder:a="",...r}=t,i=q(ze,o),{onValueNodeHasChildrenChange:d}=i,x=p!==void 0,b=O(n,i.onValueNodeChange);return K(()=>{d(x)},[d,x]),e.jsx(E.span,{...r,ref:b,style:{pointerEvents:"none"},children:it(i.value)?e.jsx(e.Fragment,{children:a}):p})});Ue.displayName=ze;var ao="SelectIcon",Ge=s.forwardRef((t,n)=>{const{__scopeSelect:o,children:l,...c}=t;return e.jsx(E.span,{"aria-hidden":!0,...c,ref:n,children:l||"â–¼"})});Ge.displayName=ao;var lo="SelectPortal",We=t=>e.jsx(It,{asChild:!0,...t});We.displayName=lo;var Q="SelectContent",Ke=s.forwardRef((t,n)=>{const o=q(Q,t.__scopeSelect),[l,c]=s.useState();if(K(()=>{c(new DocumentFragment)},[]),!o.open){const p=l;return p?Le.createPortal(e.jsx(qe,{scope:t.__scopeSelect,children:e.jsx(pe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),p):null}return e.jsx($e,{...t,ref:n})});Ke.displayName=Q;var L=10,[qe,$]=oe(Q),io="SelectContentImpl",co=ut("SelectContent.RemoveScroll"),$e=s.forwardRef((t,n)=>{const{__scopeSelect:o,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:p,onPointerDownOutside:a,side:r,sideOffset:i,align:d,alignOffset:x,arrowPadding:b,collisionBoundary:j,collisionPadding:T,sticky:C,hideWhenDetached:u,avoidCollisions:g,...v}=t,m=q(Q,o),[h,M]=s.useState(null),[k,re]=s.useState(null),P=O(n,f=>M(f)),[D,U]=s.useState(null),[X,B]=s.useState(null),H=me(o),[G,V]=s.useState(!1),F=s.useRef(!1);s.useEffect(()=>{if(h)return _t(h)},[h]),Et();const _=s.useCallback(f=>{const[N,...R]=H().map(S=>S.ref.current),[y]=R.slice(-1),w=document.activeElement;for(const S of f)if(S===w||(S==null||S.scrollIntoView({block:"nearest"}),S===N&&k&&(k.scrollTop=0),S===y&&k&&(k.scrollTop=k.scrollHeight),S==null||S.focus(),document.activeElement!==w))return},[H,k]),A=s.useCallback(()=>_([D,h]),[_,D,h]);s.useEffect(()=>{G&&A()},[G,A]);const{onOpenChange:z,triggerPointerDownPosRef:W}=m;s.useEffect(()=>{if(h){let f={x:0,y:0};const N=y=>{var w,S;f={x:Math.abs(Math.round(y.pageX)-(((w=W.current)==null?void 0:w.x)??0)),y:Math.abs(Math.round(y.pageY)-(((S=W.current)==null?void 0:S.y)??0))}},R=y=>{f.x<=10&&f.y<=10?y.preventDefault():h.contains(y.target)||z(!1),document.removeEventListener("pointermove",N),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",N),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",R,{capture:!0})}}},[h,z,W]),s.useEffect(()=>{const f=()=>z(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[z]);const[he,ie]=ct(f=>{const N=H().filter(w=>!w.disabled),R=N.find(w=>w.ref.current===document.activeElement),y=dt(N,f,R);y&&setTimeout(()=>y.ref.current.focus())}),ge=s.useCallback((f,N,R)=>{const y=!F.current&&!R;(m.value!==void 0&&m.value===N||y)&&(U(f),y&&(F.current=!0))},[m.value]),xe=s.useCallback(()=>h==null?void 0:h.focus(),[h]),ee=s.useCallback((f,N,R)=>{const y=!F.current&&!R;(m.value!==void 0&&m.value===N||y)&&B(f)},[m.value]),ce=l==="popper"?ye:Xe,ne=ce===ye?{side:r,sideOffset:i,align:d,alignOffset:x,arrowPadding:b,collisionBoundary:j,collisionPadding:T,sticky:C,hideWhenDetached:u,avoidCollisions:g}:{};return e.jsx(qe,{scope:o,content:h,viewport:k,onViewportChange:re,itemRefCallback:ge,selectedItem:D,onItemLeave:xe,itemTextRefCallback:ee,focusSelectedItem:A,selectedItemText:X,position:l,isPositioned:G,searchRef:he,children:e.jsx(Rt,{as:co,allowPinchZoom:!0,children:e.jsx(Mt,{asChild:!0,trapped:m.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:I(c,f=>{var N;(N=m.trigger)==null||N.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:f=>f.preventDefault(),...v,...ne,onPlaced:()=>V(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:I(v.onKeyDown,f=>{const N=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!N&&f.key.length===1&&ie(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let y=H().filter(w=>!w.disabled).map(w=>w.ref.current);if(["ArrowUp","End"].includes(f.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const w=f.target,S=y.indexOf(w);y=y.slice(S+1)}setTimeout(()=>_(y)),f.preventDefault()}})})})})})})});$e.displayName=io;var uo="SelectItemAlignedPosition",Xe=s.forwardRef((t,n)=>{const{__scopeSelect:o,onPlaced:l,...c}=t,p=q(Q,o),a=$(Q,o),[r,i]=s.useState(null),[d,x]=s.useState(null),b=O(n,P=>x(P)),j=me(o),T=s.useRef(!1),C=s.useRef(!0),{viewport:u,selectedItem:g,selectedItemText:v,focusSelectedItem:m}=a,h=s.useCallback(()=>{if(p.trigger&&p.valueNode&&r&&d&&u&&g&&v){const P=p.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),U=p.valueNode.getBoundingClientRect(),X=v.getBoundingClientRect();if(p.dir!=="rtl"){const w=X.left-D.left,S=U.left-w,Y=P.left-S,Z=P.width+Y,ve=Math.max(Z,D.width),be=window.innerWidth-L,we=Me(S,[L,Math.max(L,be-ve)]);r.style.minWidth=Z+"px",r.style.left=we+"px"}else{const w=D.right-X.right,S=window.innerWidth-U.right-w,Y=window.innerWidth-P.right-S,Z=P.width+Y,ve=Math.max(Z,D.width),be=window.innerWidth-L,we=Me(S,[L,Math.max(L,be-ve)]);r.style.minWidth=Z+"px",r.style.right=we+"px"}const B=j(),H=window.innerHeight-L*2,G=u.scrollHeight,V=window.getComputedStyle(d),F=parseInt(V.borderTopWidth,10),_=parseInt(V.paddingTop,10),A=parseInt(V.borderBottomWidth,10),z=parseInt(V.paddingBottom,10),W=F+_+G+z+A,he=Math.min(g.offsetHeight*5,W),ie=window.getComputedStyle(u),ge=parseInt(ie.paddingTop,10),xe=parseInt(ie.paddingBottom,10),ee=P.top+P.height/2-L,ce=H-ee,ne=g.offsetHeight/2,f=g.offsetTop+ne,N=F+_+f,R=W-N;if(N<=ee){const w=B.length>0&&g===B[B.length-1].ref.current;r.style.bottom="0px";const S=d.clientHeight-u.offsetTop-u.offsetHeight,Y=Math.max(ce,ne+(w?xe:0)+S+A),Z=N+Y;r.style.height=Z+"px"}else{const w=B.length>0&&g===B[0].ref.current;r.style.top="0px";const Y=Math.max(ee,F+u.offsetTop+(w?ge:0)+ne)+R;r.style.height=Y+"px",u.scrollTop=N-ee+u.offsetTop}r.style.margin=`${L}px 0`,r.style.minHeight=he+"px",r.style.maxHeight=H+"px",l==null||l(),requestAnimationFrame(()=>T.current=!0)}},[j,p.trigger,p.valueNode,r,d,u,g,v,p.dir,l]);K(()=>h(),[h]);const[M,k]=s.useState();K(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const re=s.useCallback(P=>{P&&C.current===!0&&(h(),m==null||m(),C.current=!1)},[h,m]);return e.jsx(mo,{scope:o,contentWrapper:r,shouldExpandOnScrollRef:T,onScrollButtonChange:re,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:e.jsx(E.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Xe.displayName=uo;var po="SelectPopperPosition",ye=s.forwardRef((t,n)=>{const{__scopeSelect:o,align:l="start",collisionPadding:c=L,...p}=t,a=fe(o);return e.jsx(Lt,{...a,...p,ref:n,align:l,collisionPadding:c,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=po;var[mo,Pe]=oe(Q,{}),Ce="SelectViewport",Ye=s.forwardRef((t,n)=>{const{__scopeSelect:o,nonce:l,...c}=t,p=$(Ce,o),a=Pe(Ce,o),r=O(n,p.onViewportChange),i=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(pe.Slot,{scope:o,children:e.jsx(E.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:r,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:I(c.onScroll,d=>{const x=d.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:j}=a;if(j!=null&&j.current&&b){const T=Math.abs(i.current-x.scrollTop);if(T>0){const C=window.innerHeight-L*2,u=parseFloat(b.style.minHeight),g=parseFloat(b.style.height),v=Math.max(u,g);if(v<C){const m=v+T,h=Math.min(C,m),M=m-h;b.style.height=h+"px",b.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,b.style.justifyContent="flex-end")}}}i.current=x.scrollTop})})})]})});Ye.displayName=Ce;var Ze="SelectGroup",[fo,ho]=oe(Ze),go=s.forwardRef((t,n)=>{const{__scopeSelect:o,...l}=t,c=Ie();return e.jsx(fo,{scope:o,id:c,children:e.jsx(E.div,{role:"group","aria-labelledby":c,...l,ref:n})})});go.displayName=Ze;var Je="SelectLabel",xo=s.forwardRef((t,n)=>{const{__scopeSelect:o,...l}=t,c=ho(Je,o);return e.jsx(E.div,{id:c.id,...l,ref:n})});xo.displayName=Je;var de="SelectItem",[vo,Qe]=oe(de),et=s.forwardRef((t,n)=>{const{__scopeSelect:o,value:l,disabled:c=!1,textValue:p,...a}=t,r=q(de,o),i=$(de,o),d=r.value===l,[x,b]=s.useState(p??""),[j,T]=s.useState(!1),C=O(n,m=>{var h;return(h=i.itemRefCallback)==null?void 0:h.call(i,m,l,c)}),u=Ie(),g=s.useRef("touch"),v=()=>{c||(r.onValueChange(l),r.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(vo,{scope:o,value:l,disabled:c,textId:u,isSelected:d,onItemTextChange:s.useCallback(m=>{b(h=>h||((m==null?void 0:m.textContent)??"").trim())},[]),children:e.jsx(pe.ItemSlot,{scope:o,value:l,disabled:c,textValue:x,children:e.jsx(E.div,{role:"option","aria-labelledby":u,"data-highlighted":j?"":void 0,"aria-selected":d&&j,"data-state":d?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...a,ref:C,onFocus:I(a.onFocus,()=>T(!0)),onBlur:I(a.onBlur,()=>T(!1)),onClick:I(a.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:I(a.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:I(a.onPointerDown,m=>{g.current=m.pointerType}),onPointerMove:I(a.onPointerMove,m=>{var h;g.current=m.pointerType,c?(h=i.onItemLeave)==null||h.call(i):g.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(a.onPointerLeave,m=>{var h;m.currentTarget===document.activeElement&&((h=i.onItemLeave)==null||h.call(i))}),onKeyDown:I(a.onKeyDown,m=>{var M;((M=i.searchRef)==null?void 0:M.current)!==""&&m.key===" "||(to.includes(m.key)&&v(),m.key===" "&&m.preventDefault())})})})})});et.displayName=de;var le="SelectItemText",tt=s.forwardRef((t,n)=>{const{__scopeSelect:o,className:l,style:c,...p}=t,a=q(le,o),r=$(le,o),i=Qe(le,o),d=so(le,o),[x,b]=s.useState(null),j=O(n,v=>b(v),i.onItemTextChange,v=>{var m;return(m=r.itemTextRefCallback)==null?void 0:m.call(r,v,i.value,i.disabled)}),T=x==null?void 0:x.textContent,C=s.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:T},i.value),[i.disabled,i.value,T]),{onNativeOptionAdd:u,onNativeOptionRemove:g}=d;return K(()=>(u(C),()=>g(C)),[u,g,C]),e.jsxs(e.Fragment,{children:[e.jsx(E.span,{id:i.textId,...p,ref:j}),i.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Le.createPortal(p.children,a.valueNode):null]})});tt.displayName=le;var ot="SelectItemIndicator",rt=s.forwardRef((t,n)=>{const{__scopeSelect:o,...l}=t;return Qe(ot,o).isSelected?e.jsx(E.span,{"aria-hidden":!0,...l,ref:n}):null});rt.displayName=ot;var Ne="SelectScrollUpButton",nt=s.forwardRef((t,n)=>{const o=$(Ne,t.__scopeSelect),l=Pe(Ne,t.__scopeSelect),[c,p]=s.useState(!1),a=O(n,l.onScrollButtonChange);return K(()=>{if(o.viewport&&o.isPositioned){let r=function(){const d=i.scrollTop>0;p(d)};const i=o.viewport;return r(),i.addEventListener("scroll",r),()=>i.removeEventListener("scroll",r)}},[o.viewport,o.isPositioned]),c?e.jsx(at,{...t,ref:a,onAutoScroll:()=>{const{viewport:r,selectedItem:i}=o;r&&i&&(r.scrollTop=r.scrollTop-i.offsetHeight)}}):null});nt.displayName=Ne;var je="SelectScrollDownButton",st=s.forwardRef((t,n)=>{const o=$(je,t.__scopeSelect),l=Pe(je,t.__scopeSelect),[c,p]=s.useState(!1),a=O(n,l.onScrollButtonChange);return K(()=>{if(o.viewport&&o.isPositioned){let r=function(){const d=i.scrollHeight-i.clientHeight,x=Math.ceil(i.scrollTop)<d;p(x)};const i=o.viewport;return r(),i.addEventListener("scroll",r),()=>i.removeEventListener("scroll",r)}},[o.viewport,o.isPositioned]),c?e.jsx(at,{...t,ref:a,onAutoScroll:()=>{const{viewport:r,selectedItem:i}=o;r&&i&&(r.scrollTop=r.scrollTop+i.offsetHeight)}}):null});st.displayName=je;var at=s.forwardRef((t,n)=>{const{__scopeSelect:o,onAutoScroll:l,...c}=t,p=$("SelectScrollButton",o),a=s.useRef(null),r=me(o),i=s.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return s.useEffect(()=>()=>i(),[i]),K(()=>{var x;const d=r().find(b=>b.ref.current===document.activeElement);(x=d==null?void 0:d.ref.current)==null||x.scrollIntoView({block:"nearest"})},[r]),e.jsx(E.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:I(c.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(l,50))}),onPointerMove:I(c.onPointerMove,()=>{var d;(d=p.onItemLeave)==null||d.call(p),a.current===null&&(a.current=window.setInterval(l,50))}),onPointerLeave:I(c.onPointerLeave,()=>{i()})})}),bo="SelectSeparator",wo=s.forwardRef((t,n)=>{const{__scopeSelect:o,...l}=t;return e.jsx(E.div,{"aria-hidden":!0,...l,ref:n})});wo.displayName=bo;var Te="SelectArrow",So=s.forwardRef((t,n)=>{const{__scopeSelect:o,...l}=t,c=fe(o),p=q(Te,o),a=$(Te,o);return p.open&&a.position==="popper"?e.jsx(Dt,{...c,...l,ref:n}):null});So.displayName=Te;var yo="SelectBubbleInput",lt=s.forwardRef(({__scopeSelect:t,value:n,...o},l)=>{const c=s.useRef(null),p=O(l,c),a=Bt(n);return s.useEffect(()=>{const r=c.current;if(!r)return;const i=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==n&&x){const b=new Event("change",{bubbles:!0});x.call(r,n),r.dispatchEvent(b)}},[a,n]),e.jsx(E.select,{...o,style:{...Be,...o.style},ref:p,defaultValue:n})});lt.displayName=yo;function it(t){return t===""||t===void 0}function ct(t){const n=Pt(t),o=s.useRef(""),l=s.useRef(0),c=s.useCallback(a=>{const r=o.current+a;n(r),function i(d){o.current=d,window.clearTimeout(l.current),d!==""&&(l.current=window.setTimeout(()=>i(""),1e3))}(r)},[n]),p=s.useCallback(()=>{o.current="",window.clearTimeout(l.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(l.current),[]),[o,c,p]}function dt(t,n,o){const c=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,p=o?t.indexOf(o):-1;let a=Co(t,Math.max(p,0));c.length===1&&(a=a.filter(d=>d!==o));const i=a.find(d=>d.textValue.toLowerCase().startsWith(c.toLowerCase()));return i!==o?i:void 0}function Co(t,n){return t.map((o,l)=>t[(n+l)%t.length])}var No=He,jo=Fe,To=Ue,Io=Ge,Po=We,_o=Ke,Eo=Ye,Ro=et,Mo=tt,ko=rt,Lo=nt,Do=st;function Ao({...t}){return e.jsx(No,{"data-slot":"select",...t})}function Oo({...t}){return e.jsx(To,{"data-slot":"select-value",...t})}function Bo({className:t,size:n="default",children:o,...l}){return e.jsxs(jo,{"data-slot":"select-trigger","data-size":n,className:te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[o,e.jsx(Io,{asChild:!0,children:e.jsx(De,{className:"size-4 opacity-50"})})]})}function Ho({className:t,children:n,position:o="popper",...l}){return e.jsx(Po,{children:e.jsxs(_o,{"data-slot":"select-content",className:te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...l,children:[e.jsx(Vo,{}),e.jsx(Eo,{className:te("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Fo,{})]})})}function ke({className:t,children:n,...o}){return e.jsxs(Ro,{"data-slot":"select-item",className:te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(ko,{children:e.jsx(Wt,{className:"size-4"})})}),e.jsx(Mo,{children:n})]})}function Vo({className:t,...n}){return e.jsx(Lo,{"data-slot":"select-scroll-up-button",className:te("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(qt,{className:"size-4"})})}function Fo({className:t,...n}){return e.jsx(Do,{"data-slot":"select-scroll-down-button",className:te("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(De,{className:"size-4"})})}const zo=({rank:t})=>t===1?e.jsx(Ae,{className:"h-6 w-6 text-yellow-400"}):t===2?e.jsx(Zt,{className:"h-6 w-6 text-slate-300"}):t===3?e.jsx(Ht,{className:"h-6 w-6 text-amber-500"}):e.jsx("span",{className:"font-mono text-neutral-400",children:t}),Uo=t=>t===1?"bg-stone-700 border-l-2 border-yellow-400":t===2?"bg-stone-800 border-l-2 border-slate-400":t===3?"bg-stone-900 border-l-2 border-amber-500":"border-l-2 border-transparent",Go=t=>t>=400?"Diamond":t>=300?"Gold":t>=200?"Silver":t>=100?"Bronze":"Iron",Wo=t=>({Diamond:"bg-cyan-500/20 text-cyan-300 border border-cyan-400/30",Gold:"bg-yellow-500/20 text-yellow-300 border border-yellow-400/30",Silver:"bg-slate-500/20 text-slate-300 border border-slate-400/30",Bronze:"bg-amber-700/20 text-amber-400 border border-amber-600/30",Iron:"bg-neutral-700/30 text-neutral-400 border border-neutral-600/30"})[t]||"bg-neutral-700/30";function Ko({data:t=[],type:n="global",itemsPerPage:o=20}){const[l,c]=s.useState(1),p=s.useMemo(()=>{const r=(l-1)*o,i=r+o;return t.slice(r,i).map((d,x)=>({...d,rank:d.rank||r+x+1,league:Go(d.xp)}))},[t,l,o]),a=Math.ceil(((t==null?void 0:t.length)||0)/o);return l>a&&a>0&&c(1),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto rounded-lg border border-neutral-800",children:e.jsxs(Vt,{children:[e.jsx(Ft,{children:e.jsxs(Re,{className:"border-neutral-800 hover:bg-neutral-900",children:[e.jsx(se,{className:"text-xs font-semibold uppercase tracking-wider text-neutral-400",children:"Rank"}),e.jsx(se,{className:"text-xs font-semibold uppercase tracking-wider text-neutral-400",children:"Player"}),e.jsx(se,{className:"text-center text-xs font-semibold uppercase tracking-wider text-neutral-400",children:"League"}),e.jsx(se,{className:"text-right text-xs font-semibold uppercase tracking-wider text-neutral-400",children:n==="global"?"Joined":"Timemark"}),e.jsx(se,{className:"text-right text-xs font-semibold uppercase tracking-wider text-neutral-400",children:n==="global"?"Total XP":"Best Time"})]})}),e.jsx(zt,{children:p.map(r=>e.jsxs(Re,{className:`${Uo(r.rank)} border-neutral-800/50`,children:[e.jsx(ae,{className:"font-bold text-lg",children:e.jsx(zo,{rank:r.rank})}),e.jsx(ae,{className:"font-medium text-white",children:e.jsx(pt,{to:`/${r.username}`,className:"flex items-center gap-3 group",children:e.jsx("span",{className:"group-hover:text-blue-400 transition-colors",children:r.username})})}),e.jsx(ae,{className:"text-center",children:r.league&&e.jsx(mt,{className:Wo(r.league),children:r.league})}),e.jsx(ae,{className:"text-right font-mono text-lg font-semibold",children:n==="global"?e.jsxs("div",{className:"flex items-center justify-end gap-2 text-neutral-400",children:[new Date(r.created_at).toLocaleDateString()," "]}):e.jsxs("span",{className:"text-green-400",children:[r.created_at,"s"]})}),e.jsx(ae,{className:"text-right font-mono text-lg font-semibold",children:n==="global"?e.jsx("div",{className:"flex items-center justify-end gap-2",children:r.xp.toLocaleString()}):e.jsxs("span",{className:"text-green-400",children:[(r.time/1e3).toFixed(2),"s"]})})]},r.username+r.rank))})]})}),a>1&&e.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 mt-4",children:[e.jsxs("span",{className:"text-sm text-neutral-500",children:["Page ",l," of ",a]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>c(r=>Math.max(1,r-1)),disabled:l===1,className:"bg-neutral-800 border-neutral-700",children:[e.jsx(ft,{className:"h-4 w-4"})," Prev"]}),e.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>c(r=>Math.min(a,r+1)),disabled:l===a,className:"bg-neutral-800 border-neutral-700",children:["Next ",e.jsx(ht,{className:"h-4 w-4"})]})]})]})]})}function tr(){var g;const[t,n]=s.useState("global"),{data:o}=Se({queryKey:["gameNavLinks"],queryFn:St}),{data:l,isLoading:c,isError:p,error:a}=Se({queryKey:["leaderboard","global"],queryFn:yt,enabled:t==="global"}),{data:r,isLoading:i,isError:d,error:x}=Se({queryKey:["leaderboard","game",t],queryFn:()=>Ct(t),enabled:t!=="global"}),b=c||i,j=p||d,T=a||x,C=t==="global"?l:r,u=v=>{n(v)};return j?e.jsx(gt,{errorMessage:"Could Not Load Leaderboard",errorDescription:T.message}):e.jsxs("div",{className:"min-h-screen bg-black text-white sm:p-6 lg:p-8",children:[e.jsxs(xt,{children:[e.jsx("title",{children:"Leaderboards - Ripground"}),e.jsx("meta",{name:"description",content:"View the latest leaderboards for global XP and individual games."})]}),e.jsxs("div",{className:"container mx-auto max-w-7xl",children:[e.jsxs("header",{className:"mt-16 sm:mt-20 mb-8 text-center",children:[e.jsx(Ae,{className:"mx-auto h-12 w-12 text-yellow-400 animate-pulse"}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tighter text-white mt-4",children:"Leaderboards"}),e.jsx("p",{className:"text-lg text-neutral-400 mt-2",children:"See who's dominating the competition."})]}),e.jsxs(vt,{className:"bg-neutral-950/70 border-neutral-800 backdrop-blur-sm",children:[e.jsxs(bt,{className:"flex flex-col md:flex-row items-center justify-between gap-4 p-4 border-b border-neutral-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[t==="global"?e.jsx(Xt,{className:"h-5 w-5 text-blue-400"}):e.jsx(Ut,{className:"h-5 w-5 text-green-400"}),e.jsx("h2",{children:t==="global"?"Global XP Rankings":((g=o==null?void 0:o.find(v=>v.slug===t))==null?void 0:g.title)||"Game Leaderboard"})]}),e.jsxs(Ao,{value:t,onValueChange:u,children:[e.jsx(Bo,{className:"w-full md:w-64 bg-neutral-900 border-neutral-700 text-white",children:e.jsx(Oo,{placeholder:"Select a leaderboard..."})}),e.jsxs(Ho,{className:"bg-neutral-900 border-neutral-700 text-white",children:[e.jsx(ke,{value:"global",children:"Global XP"}),o==null?void 0:o.map(v=>e.jsx(ke,{value:v.slug,children:v.title},v.slug))]})]})]}),e.jsx(wt,{className:"p-6",children:b?e.jsx("div",{className:"text-center py-24 text-neutral-400 text-lg animate-pulse",children:"Fetching latest rankings..."}):e.jsx(Ko,{data:C,type:t==="global"?"global":"game",itemsPerPage:25})})]})]})]})}export{tr as default};
