import{c as je,r as t,j as e,a as re,B as ae,u as _e,b as Ae,H as De,L as ne,G as Fe,t as Be}from"./index-Cqv-lK9G.js";import{L as be}from"./label-Bx77from.js";import{I as we}from"./input-DXxRHlHz.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],He=je("eye-off",We);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ve=je("eye",Ge);var $e=Object.defineProperty,ze=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ye=(n,a,l)=>a in n?$e(n,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[a]=l,Ue=(n,a)=>{for(var l in a||(a={}))Se.call(a,l)&&ye(n,l,a[l]);if(le)for(var l of le(a))Ee.call(a,l)&&ye(n,l,a[l]);return n},Ze=(n,a)=>ze(n,qe(a)),Je=(n,a)=>{var l={};for(var s in n)Se.call(n,s)&&a.indexOf(s)<0&&(l[s]=n[s]);if(n!=null&&le)for(var s of le(n))a.indexOf(s)<0&&Ee.call(n,s)&&(l[s]=n[s]);return l};function Ke(n){let a=setTimeout(n,0),l=setTimeout(n,10),s=setTimeout(n,50);return[a,l,s]}function Qe(n){let a=t.useRef();return t.useEffect(()=>{a.current=n}),a.current}var Xe=18,ke=40,Ye=`${ke}px`,et=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function tt({containerRef:n,inputRef:a,pushPasswordManagerStrategy:l,isFocused:s}){let[h,u]=t.useState(!1),[f,m]=t.useState(!1),[w,R]=t.useState(!1),A=t.useMemo(()=>l==="none"?!1:(l==="increase-width"||l==="experimental-no-flickering")&&h&&f,[h,f,l]),L=t.useCallback(()=>{let v=n.current,E=a.current;if(!v||!E||w||l==="none")return;let x=v,k=x.getBoundingClientRect().left+x.offsetWidth,P=x.getBoundingClientRect().top+x.offsetHeight/2,i=k-Xe,D=P;document.querySelectorAll(et).length===0&&document.elementFromPoint(i,D)===v||(u(!0),R(!0))},[n,a,w,l]);return t.useEffect(()=>{let v=n.current;if(!v||l==="none")return;function E(){let k=window.innerWidth-v.getBoundingClientRect().right;m(k>=ke)}E();let x=setInterval(E,1e3);return()=>{clearInterval(x)}},[n,l]),t.useEffect(()=>{let v=s||document.activeElement===a.current;if(l==="none"||!v)return;let E=setTimeout(L,0),x=setTimeout(L,2e3),k=setTimeout(L,5e3),P=setTimeout(()=>{R(!0)},6e3);return()=>{clearTimeout(E),clearTimeout(x),clearTimeout(k),clearTimeout(P)}},[a,s,l,L]),{hasPWMBadge:h,willPushPWMBadge:A,PWM_BADGE_SPACE_WIDTH:Ye}}var Ne=t.createContext({}),Ce=t.forwardRef((n,a)=>{var l=n,{value:s,onChange:h,maxLength:u,textAlign:f="left",pattern:m,placeholder:w,inputMode:R="numeric",onComplete:A,pushPasswordManagerStrategy:L="increase-width",pasteTransformer:v,containerClassName:E,noScriptCSSFallback:x=nt,render:k,children:P}=l,i=Je(l,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),D,X,Y,y,N;let[F,I]=t.useState(typeof i.defaultValue=="string"?i.defaultValue:""),d=s??F,B=Qe(d),U=t.useCallback(r=>{h==null||h(r),I(r)},[h]),M=t.useMemo(()=>m?typeof m=="string"?new RegExp(m):m:null,[m]),p=t.useRef(null),oe=t.useRef(null),se=t.useRef({value:d,onChange:U,isIOS:typeof window<"u"&&((X=(D=window==null?void 0:window.CSS)==null?void 0:D.supports)==null?void 0:X.call(D,"-webkit-touch-callout","none"))}),ee=t.useRef({prev:[(Y=p.current)==null?void 0:Y.selectionStart,(y=p.current)==null?void 0:y.selectionEnd,(N=p.current)==null?void 0:N.selectionDirection]});t.useImperativeHandle(a,()=>p.current,[]),t.useEffect(()=>{let r=p.current,o=oe.current;if(!r||!o)return;se.current.value!==r.value&&se.current.onChange(r.value),ee.current.prev=[r.selectionStart,r.selectionEnd,r.selectionDirection];function g(){if(document.activeElement!==r){J(null),K(null);return}let c=r.selectionStart,b=r.selectionEnd,te=r.selectionDirection,C=r.maxLength,H=r.value,T=ee.current.prev,O=-1,_=-1,G;if(H.length!==0&&c!==null&&b!==null){let Te=c===b,Le=c===H.length&&H.length<C;if(Te&&!Le){let V=c;if(V===0)O=0,_=1,G="forward";else if(V===C)O=V-1,_=V,G="backward";else if(C>1&&H.length>1){let ue=0;if(T[0]!==null&&T[1]!==null){G=V<T[1]?"backward":"forward";let Oe=T[0]===T[1]&&T[0]<C;G==="backward"&&!Oe&&(ue=-1)}O=ue+V,_=ue+V+1}}O!==-1&&_!==-1&&O!==_&&p.current.setSelectionRange(O,_,G)}let ve=O!==-1?O:c,xe=_!==-1?_:b,Ie=G??te;J(ve),K(xe),ee.current.prev=[ve,xe,Ie]}if(document.addEventListener("selectionchange",g,{capture:!0}),g(),document.activeElement===r&&ie(!0),!document.getElementById("input-otp-style")){let c=document.createElement("style");if(c.id="input-otp-style",document.head.appendChild(c),c.sheet){let b="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Q(c.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Q(c.sheet,`[data-input-otp]:autofill { ${b} }`),Q(c.sheet,`[data-input-otp]:-webkit-autofill { ${b} }`),Q(c.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Q(c.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let j=()=>{o&&o.style.setProperty("--root-height",`${r.clientHeight}px`)};j();let S=new ResizeObserver(j);return S.observe(r),()=>{document.removeEventListener("selectionchange",g,{capture:!0}),S.disconnect()}},[]);let[de,pe]=t.useState(!1),[Z,ie]=t.useState(!1),[W,J]=t.useState(null),[$,K]=t.useState(null);t.useEffect(()=>{Ke(()=>{var r,o,g,j;(r=p.current)==null||r.dispatchEvent(new Event("input"));let S=(o=p.current)==null?void 0:o.selectionStart,c=(g=p.current)==null?void 0:g.selectionEnd,b=(j=p.current)==null?void 0:j.selectionDirection;S!==null&&c!==null&&(J(S),K(c),ee.current.prev=[S,c,b])})},[d,Z]),t.useEffect(()=>{B!==void 0&&d!==B&&B.length<u&&d.length===u&&(A==null||A(d))},[u,A,B,d]);let z=tt({containerRef:oe,inputRef:p,pushPasswordManagerStrategy:L,isFocused:Z}),me=t.useCallback(r=>{let o=r.currentTarget.value.slice(0,u);if(o.length>0&&M&&!M.test(o)){r.preventDefault();return}typeof B=="string"&&o.length<B.length&&document.dispatchEvent(new Event("selectionchange")),U(o)},[u,U,B,M]),he=t.useCallback(()=>{var r;if(p.current){let o=Math.min(p.current.value.length,u-1),g=p.current.value.length;(r=p.current)==null||r.setSelectionRange(o,g),J(o),K(g)}ie(!0)},[u]),fe=t.useCallback(r=>{var o,g;let j=p.current;if(!v&&(!se.current.isIOS||!r.clipboardData||!j))return;let S=r.clipboardData.getData("text/plain"),c=v?v(S):S;r.preventDefault();let b=(o=p.current)==null?void 0:o.selectionStart,te=(g=p.current)==null?void 0:g.selectionEnd,C=(b!==te?d.slice(0,b)+c+d.slice(te):d.slice(0,b)+c+d.slice(b)).slice(0,u);if(C.length>0&&M&&!M.test(C))return;j.value=C,U(C);let H=Math.min(C.length,u-1),T=C.length;j.setSelectionRange(H,T),J(H),K(T)},[u,U,M,d]),Pe=t.useMemo(()=>({position:"relative",cursor:i.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[i.disabled]),ge=t.useMemo(()=>({position:"absolute",inset:0,width:z.willPushPWMBadge?`calc(100% + ${z.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:z.willPushPWMBadge?`inset(0 ${z.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:f,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[z.PWM_BADGE_SPACE_WIDTH,z.willPushPWMBadge,f]),Me=t.useMemo(()=>t.createElement("input",Ze(Ue({autoComplete:i.autoComplete||"one-time-code"},i),{"data-input-otp":!0,"data-input-otp-placeholder-shown":d.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":$,inputMode:R,pattern:M==null?void 0:M.source,"aria-placeholder":w,style:ge,maxLength:u,value:d,ref:p,onPaste:r=>{var o;fe(r),(o=i.onPaste)==null||o.call(i,r)},onChange:me,onMouseOver:r=>{var o;pe(!0),(o=i.onMouseOver)==null||o.call(i,r)},onMouseLeave:r=>{var o;pe(!1),(o=i.onMouseLeave)==null||o.call(i,r)},onFocus:r=>{var o;he(),(o=i.onFocus)==null||o.call(i,r)},onBlur:r=>{var o;ie(!1),(o=i.onBlur)==null||o.call(i,r)}})),[me,he,fe,R,ge,u,$,W,i,M==null?void 0:M.source,d]),ce=t.useMemo(()=>({slots:Array.from({length:u}).map((r,o)=>{var g;let j=Z&&W!==null&&$!==null&&(W===$&&o===W||o>=W&&o<$),S=d[o]!==void 0?d[o]:null,c=d[0]!==void 0?null:(g=w==null?void 0:w[o])!=null?g:null;return{char:S,placeholderChar:c,isActive:j,hasFakeCaret:j&&S===null}}),isFocused:Z,isHovering:!i.disabled&&de}),[Z,de,u,$,W,i.disabled,d]),Re=t.useMemo(()=>k?k(ce):t.createElement(Ne.Provider,{value:ce},P),[P,ce,k]);return t.createElement(t.Fragment,null,x!==null&&t.createElement("noscript",null,t.createElement("style",null,x)),t.createElement("div",{ref:oe,"data-input-otp-container":!0,style:Pe,className:E},Re,t.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Me)))});Ce.displayName="Input";function Q(n,a){try{n.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var nt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function rt({className:n,containerClassName:a,...l}){return e.jsx(Ce,{"data-slot":"input-otp",containerClassName:re("flex items-center gap-2 has-disabled:opacity-50",a),className:re("disabled:cursor-not-allowed",n),...l})}function at({className:n,...a}){return e.jsx("div",{"data-slot":"input-otp-group",className:re("flex items-center",n),...a})}function q({index:n,className:a,...l}){const s=t.useContext(Ne),{char:h,hasFakeCaret:u,isActive:f}=(s==null?void 0:s.slots[n])??{};return e.jsxs("div",{"data-slot":"input-otp-slot","data-active":f,className:re("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",a),...l,children:[h,u&&e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function lt({title:n,description:a,isLoading:l,error:s,onComplete:h,onCancel:u}){const[f,m]=t.useState(""),w=()=>{f.length===6&&h(f)};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-2 text-white",children:n}),e.jsx("p",{className:"text-center text-neutral-400 mb-6",children:a}),s&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),e.jsx("div",{className:"flex justify-center my-8",children:e.jsx(rt,{maxLength:6,value:f,onChange:R=>m(R),onComplete:h,children:e.jsxs(at,{children:[e.jsx(q,{index:0}),e.jsx(q,{index:1}),e.jsx(q,{index:2}),e.jsx(q,{index:3}),e.jsx(q,{index:4}),e.jsx(q,{index:5})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ae,{onClick:w,disabled:l||f.length<6,className:"w-full",children:l?"Verifying...":"Verify"}),e.jsx(ae,{variant:"ghost",onClick:u,className:"w-full text-neutral-400 hover:text-white",children:"Cancel"})]})]})}function ct(){const[n,a]=t.useState(""),[l,s]=t.useState(""),[h,u]=t.useState(!1),[f,m]=t.useState(""),w=_e(),{login:R,loginWithGoogle:A,finalizeMfaLogin:L}=Ae(),[v,E]=t.useState(!1),[x,k]=t.useState(null),[P,i]=t.useState(!1),D=async y=>{var N,F;y.preventDefault(),m("");try{const I=await R(n,l);I.accessToken?w("/dashboard"):I.mfaRequired&&(k(I.userId),E(!0))}catch(I){m(((F=(N=I.response)==null?void 0:N.data)==null?void 0:F.message)||"An unknown error occurred.")}},X=async y=>{var N,F;m(""),i(!0);try{await L({userId:x,token:y}),w("/dashboard")}catch(I){m(((F=(N=I.response)==null?void 0:N.data)==null?void 0:F.message)||"Invalid OTP code."),Be.error("Invalid Code. Please try again.")}finally{i(!1)}},Y=async y=>{m("");const N=await A(y.credential);N.success?w("/dashboard"):m(N.error)};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black text-white px-4",children:[e.jsxs(De,{children:[e.jsx("title",{children:"Login - Ripground"}),e.jsx("meta",{name:"description",content:"Login to your Ripground account to access your dashboard and manage your profile."})]}),e.jsxs("div",{className:"max-w-md w-full backdrop-blur-md rounded-xl shadow-2xl p-8",children:[v?e.jsx(lt,{title:"Two-Factor Authentication",description:"Check your authenticator app for the 6-digit code.",isLoading:P,error:f,onComplete:X,onCancel:()=>{E(!1),m("")}}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-white",children:"Login"}),f&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:f}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(be,{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),e.jsx(we,{type:"email",id:"email",className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-neutral-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:y=>a(y.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx(be,{htmlFor:"password",children:"Password"}),e.jsx(ne,{to:"/forgot-password",tabIndex:-1,className:"text-sm text-blue-400 hover:underline",children:"Forgot Password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{type:h?"text":"password",id:"password",value:l,onChange:y=>s(y.target.value),required:!0,className:"pr-10 mt-1 bg-neutral-800 border-neutral-600"}),e.jsx(ae,{type:"button",onClick:()=>u(!h),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-neutral-400 hover:text-white","aria-label":h?"Hide password":"Show password",children:h?e.jsx(He,{className:"h-5 w-5"}):e.jsx(Ve,{className:"h-5 w-5"})})]})]}),e.jsx(ae,{type:"submit",disabled:P,className:`w-full h-10 px-6 font-semibold rounded-lg text-white bg-blue-600 hover:bg-blue-500 transition-all duration-300\r
             focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-black\r
             hover:shadow-[0_0_20px_rgba(59,130,246,0.4)]\r
             active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed`,children:P?"Authenticating...":"Login"})]}),e.jsxs("div",{className:"my-6 flex items-center",children:[e.jsx("div",{className:"flex-grow border-t border-neutral-700"}),e.jsx("span",{className:"mx-4 text-gray-400",children:"or"}),e.jsx("div",{className:"flex-grow border-t border-neutral-700"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Fe,{theme:"filled_black",onSuccess:Y,onError:()=>m("Google Login error"),auto_select:!0})}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Don't have an account?"}),e.jsx(ne,{to:"/register",className:"text-blue-500 hover:underline",children:"Register"})]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["By signing in, you agree to our"," ",e.jsx(ne,{className:"underline hover:text-white",to:"/terms-of-service",children:"Terms"})," ","and"," ",e.jsx(ne,{className:"underline hover:text-white",to:"/privacy-policy",children:"Privacy Policy"})]})]})]})}export{ct as default};
